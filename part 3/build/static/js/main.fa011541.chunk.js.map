{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Persons.js","App.js","components/DataModel.js","index.js"],"names":["Filter","newFilter","setNewFilter","onSubmit","event","preventDefault","value","onChange","target","baseUrl","PersonForm","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setSuccessMessage","obj","personToAdd","name","number","some","person","window","confirm","id","newObject","axios","put","update","get","then","response","data","setTimeout","post","concat","type","Persons","personName","personNumber","className","onClick","delete","deletePerson","console","log","filter","App","useState","successMessage","useEffect","json","forEach","mappedPerson","push","mapJsonToPersons","toLowerCase","includes","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fa011541.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ newFilter, setNewFilter }) => {\r\n\r\n    const handleFilterChange = (event) => {\r\n        setNewFilter(event.target.value)\r\n    }\r\n\r\n    const filterPerson = (event) => {\r\n        event.preventDefault();\r\n      }\r\n    \r\n    return (\r\n    <form onSubmit={filterPerson}>\r\n        <input \r\n        value = {newFilter}\r\n        onChange = {handleFilterChange}\r\n        />\r\n    </form>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport default Filter;","import axios from 'axios'\r\n\r\nconst baseUrl = \"http://localhost:3001/api/persons\"\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (obj) => {\r\n    return axios.post(baseUrl, obj)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport {\r\n    getAll,\r\n    create,\r\n    update,\r\n    deletePerson\r\n}","import React, { useState } from 'react'\r\nimport {create, getAll, update} from '../services/persons'\r\n\r\nconst PersonForm = ({persons, setPersons, newName, setNewName, newNumber, setNewNumber, setSuccessMessage }) => {\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n    \r\n    const addPerson = (event) => {\r\n        event.preventDefault();\r\n        const personToAdd = {\r\n            name : newName,\r\n            number : newNumber,\r\n        }\r\n\r\n        if (persons.some(person => person.name === personToAdd.name)) {\r\n            const res = window.confirm(`${newName} already exists to the phonebook, update his/her number?`)\r\n            if (!res)\r\n              return\r\n            for(const person of persons) {\r\n              if(person.name === personToAdd.name) {\r\n                const id = person.id\r\n                update(id, personToAdd)\r\n                getAll().then(response => {\r\n                  setPersons(response.data)\r\n                  setSuccessMessage(`Updated phone number of ${person.name} to ${personToAdd.number}`)\r\n                  setTimeout(() => {\r\n                    setSuccessMessage(null)\r\n                  }, 5000)\r\n                })\r\n                setNewName('')\r\n                setNewNumber('')\r\n              }\r\n            }\r\n        } else {\r\n          create(personToAdd).then(response => {\r\n            setPersons(persons.concat(response.data));\r\n            setSuccessMessage(`Created new entry: ${personToAdd.name} with phone number : ${personToAdd.number}`)\r\n            setTimeout(() => {\r\n              setSuccessMessage(null)\r\n            }, 5000)\r\n            setNewName('');\r\n            setNewNumber('');  \r\n        })\r\n      }\r\n    }\r\n      \r\n    return (\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n        <h2>Add New Person</h2>\r\n          name: <input \r\n            value = {newName}\r\n            onChange = {handleNameChange}\r\n          />\r\n          <div>\r\n            number: <input \r\n              value = {newNumber}\r\n              onChange = {handleNumberChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n\r\n}\r\n\r\nexport default PersonForm;","import React from 'react';\r\nimport { deletePerson } from '../services/persons';\r\n\r\nconst Persons = ({ id, personName, personNumber, persons, setPersons, setSuccessMessage }) => {\r\n\r\n    const deleteEntry = () => {\r\n        const res = window.confirm(\"Do you want to delete this entry?\")\r\n        if (!res) \r\n            return\r\n        deletePerson(id).then(response => {\r\n            console.log(response)\r\n        })\r\n        setSuccessMessage(`Deleted entry of ${personName} : ${personNumber}`)\r\n        setTimeout(() => {\r\n          setSuccessMessage(null)\r\n        }, 5000)\r\n        setPersons(persons.filter(person => person.id !== id))\r\n    }\r\n\r\n    return(\r\n        <div className='person'>\r\n         {personName} \r\n         {personNumber} \r\n         <button onClick={deleteEntry}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport axios from 'axios'\nimport { mapJsonToPersons } from './components/DataModel'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  useEffect(() => {\n    axios\n    .get(\"http://localhost:3001/api/persons\")\n    .then(response => {\n      console.log(response.data)\n      setPersons(mapJsonToPersons(response.data))\n    })\n  },[])\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      {successMessage !== null ? \n        <div className=\"message\">{successMessage}</div>\n        : null}\n      <h2>Filter By</h2>\n      <Filter \n      newFilter={newFilter}\n      setNewFilter={setNewFilter}\n      />\n\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        newName={newName}\n        setNewName={setNewName}\n        newNumber={newNumber}\n        setNewNumber={setNewNumber}\n        setSuccessMessage={setSuccessMessage}\n      />\n      <h2>Numbers</h2>\n      {persons.filter((person)=>person.name.toLowerCase().includes(newFilter)).map((person)=>\n      <Persons\n        key={person.id}\n        id={person.id}\n        personName={person.name}\n        personNumber={person.number}\n        persons={persons}\n        setPersons={setPersons}\n        setSuccessMessage={setSuccessMessage}\n      />\n      )}\n    </div>\n  )\n}\n\nexport default App\n","const mapJsonToPersons = (json) => {\r\n    let persons = [];\r\n    json.forEach((person) => {\r\n        const {\r\n            name,\r\n            number,\r\n            id\r\n        } = person\r\n\r\n        const mappedPerson = {\r\n            id,\r\n            name,\r\n            number\r\n        }\r\n        \r\n        persons.push(mappedPerson);\r\n    })\r\n\r\n    return persons;\r\n}\r\n\r\nexport {mapJsonToPersons}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}